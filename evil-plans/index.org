#+TITLE: Evil plans
#+HTML_HEAD_EXTRA: <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
#+STARTUP: lognotedone

#+HTML: <div class="row"><div class="columns">

<<top>>

Curious about anything? Contact me at sacha@sachachua.com .  SVG only, so you'll need a browser with SVG support.
Web: http://sachachua.com/evil-plans
Raw file: [[http://sachachua.com/sharing/evil-plans.org][evil-plans.org]]

Additional notes: http://sachachua.com/blog/2014/03/reflecting-goals-time/

* Current goals
  :PROPERTIES:
  :CUSTOM_ID: Current_goals
  :END:

See raw file or end of document for code. 

#+CALL: graph-from-tables[:outputfile "goals.svg" :cmdline "-Kdot -Tsvg -Gdpi=100 -Gsize=8,8 -Grankdir=LR"](fillcolumn=20,id="G") :results silent :exports none

[[file:goals.svg]]

* Including "Someday" goals
  :PROPERTIES:
  :CUSTOM_ID: Including__Someday__goals
  :END:

See raw file or end of document for code.

#+CALL: graph-from-tables[:outputfile someday.svg :cmdline "-Kdot -Tsvg -Gsize=10,10 -Grankdir=LR"](fillcolumn=20,include-someday=1) :results silent :exports none

[[file:someday.svg]]

* Table
  :PROPERTIES:
  :CUSTOM_ID: Table
  :END:
     #+BEGIN: propview :cols (GOALCATEGORY XP TODO ITEM)  :conds ((> XP 0) (not (string= TODO "DONE"))) :id global :noquote t :skip-empty-rows t 
     | GOALCATEGORY |  XP | TODO    | ITEM                                                                                                 |
     |--------------+-----+---------+------------------------------------------------------------------------------------------------------|
     | Health       |  10 | SOMEDAY | restart jogging with W-                                                                              |
     | Health       |  20 | SOMEDAY | develop habit of biking safely and comfortably in winter (>= -5C, < 20km wind, not much ice or snow) |
     | Health       |  50 | SOMEDAY | graduate from introductory exercise ladder                                                           |
     | Life         |  20 | WAITING | deal with rough patches with grace                                                                   |
     | Life         | 100 | WAITING | enjoy middle age                                                                                     |
     | Life         |  10 | WAITING | respond with tranquility in the face of my mortality                                                 |
     | Life         |  20 | WAITING | respond with tranquility in the face of sickness                                                     |
     | Life         |  30 | WAITING | respond with tranquility in the face of the death of someone close to me                             |
     | Life         | 100 | WAITING | enjoy old age                                                                                        |
     | Life         |  10 | SOMEDAY | find a cat sitter we can trust                                                                       |
     | Life         |  10 | SOMEDAY | set up distinctly interesting memories for four months straight                                      |
     | Life         |  30 | SOMEDAY | get driver's license?                                                                                |
     | Analysis     |   5 | SOMEDAY | visualize ideas over a year                                                                          |
     | Analysis     |  20 | SOMEDAY | use animations to understand data                                                                    |
     | Learning     |  10 | SOMEDAY | read the visual dictionary                                                                           |
     | Writing      |  50 | SOMEDAY | develop ability to look at my writing with strangers' eyes                                           |
     | Writing      |  50 | SOMEDAY | cut writing ruthlessly                                                                               |
     | Writing      |  50 | SOMEDAY | write in bigger chunks                                                                               |
     | Writing      | 100 | SOMEDAY | write a book instead of compiling it                                                                 |
     | Writing      | 100 | SOMEDAY | habitually write books (>= 3 books in 5 years)                                                       |
     | Writing      |  50 | SOMEDAY | habitually write mini-guides (>= 4 mini-guides in 2 years)                                           |
     | Speaking     |  10 | SOMEDAY | make videos part of the way I regularly share (~12 original videos a year)                           |
     | Drawing      |  20 | SOMEDAY | draw recognizable people                                                                             |
     | Programming  |   5 | SOMEDAY | set up smooth cross-referencing between blog posts and Flickr                                        |
     | Programming  |   5 | SOMEDAY | set up autocomplete                                                                                  |
     | Programming  |   5 | SOMEDAY | set up flychecking                                                                                   |
     | Programming  |   5 | SOMEDAY | make test-driven development part of my normal workflow                                              |
     | Programming  |   5 | SOMEDAY | get the hang of a CSS framework                                                                      |
     | Programming  |   5 | SOMEDAY | get the hang of a CSS preprocessor                                                                   |
     | Programming  |   5 | SOMEDAY | get the hang of a Javascript preprocessor                                                            |
     | Programming  |   5 | SOMEDAY | help other people program more effectively                                                           |
     | Programming  |  10 | SOMEDAY | close an open source issue                                                                           |
     | Programming  |  10 | SOMEDAY | contribute to open source documentation                                                              |
     | Programming  |  20 | SOMEDAY | get feedback from coaches or open source community                                                   |
     | Programming  |  20 | SOMEDAY | contribute to Emacs C                                                                                |
     | Programming  |  10 | SOMEDAY | contribute automated tests to Emacs packages                                                         |
     | Writing      |  30 | SOMEDAY | write book about 5-year experiment to capture memories and help other people curious about it        |
     | Writing      |  50 | SOMEDAY | write a set of three or four 4-part courses                                                          |
     | Life         |  10 | SOMEDAY | create four major projects in 2015                                                                   |
     | Writing      |  20 | SOMEDAY | write mini-book on building Emacs habits                                                             |
     | Drawing      |   5 | STARTED | make Sketchnotes 2014                                                                                |
     | Cooking      |   5 | SOMEDAY | make paella                                                                                          |
     | Cooking      |   5 | SOMEDAY | make special types of bread, including sourdough                                                     |
     | Cooking      |  10 | SOMEDAY | competently make pizza                                                                               |
     | Cooking      |  10 | SOMEDAY | make braising and other fancy cooking terms part of my vocabulary                                    |
     | Cooking      |  10 | SOMEDAY | adjust the feel of things by using herb combinations                                                 |
     | Cooking      |  10 | SOMEDAY | create monthly cycles for favourite recipes                                                          |
     | Cooking      |  20 | SOMEDAY | cut standard sizes                                                                                   |
     | Learning     |  10 | SOMEDAY | Japanese: Listen to regular shows with >=80% comprehension                                           |
     | Learning     |  10 | SOMEDAY | Japanese: Listen to tech talks with >=80% comprehension                                              |
     | Learning     |  10 | SOMEDAY | Japanese: Listen to cooking shows with >=80% comprehension                                           |
     | Learning     |  10 | SOMEDAY | Japanese: Read blog posts and tweets about tech with >=80% comprehension                             |
     | Learning     |  10 | SOMEDAY | Japanese: Read cooking instructions on packages with >=80% comprehension                             |
     | Learning     |  10 | SOMEDAY | Japanese: Complete Anki decks for JP-2000                                                            |
     | Connecting   |  20 | WAITING | do right by our cats                                                                                 |
     | Connecting   | 100 | WAITING | do right by W-, J-, and A-                                                                           |
     | Connecting   |  10 | SOMEDAY | develop a 4+-month habit of frequent messages to parents                                             |
     | Learning     |  30 | SOMEDAY | post notes and life changes from three months of working with a coach                                |
     | Connecting   |  10 | SOMEDAY | have a regular plan for meeting friends at least one weekend every month                             |
     | Finance      |  10 | WAITING | sell stocks in a non-registered account and properly account for them                                |
     | Finance      |  10 | TODO    | re-examine spending and carve out more for what matters                                              |
     | Finance      |  20 | WAITING | move to target allocation                                                                            |
     | Finance      |  30 | WAITING | reach 2% goal                                                                                        |
     | Finance      |  10 | WAITING | reach 2.5% goal                                                                                      |
     | Connecting   |  20 | WAITING | resolve estate amicably or walk away from it                                                         |
     | Writing      |  10 | SOMEDAY | develop structures for journaling                                                                    |
     | Learning     |  10 | SOMEDAY | create syntopicon/bibliography                                                                       |
     |--------------+-----+---------+------------------------------------------------------------------------------------------------------|
     |              |     |         |                                                                                                      |
     #+END:

* Goals                                                                :goal:
:PROPERTIES:
:LOGGING:  TODO(@)
:CUSTOM_ID: Goals
:END:

** maintain or improve my health
   :PROPERTIES:
   :CUSTOM_ID: maintain_or_improve_my_health
   :END:
So that I can [[live an awesome life]]

*** TODO Get used to babyweight exercises  :Health:
    :PROPERTIES:
    :CUSTOM_ID: Get_used_to_babyweight_exercises
    :END:

So that I can [[maintain or improve my health]]

- Walking for at least one hour a day, at least three times a week
- Upper-body baby weight exercises

Built-in progression, hooray!

*** SOMEDAY restart jogging with W-                                  :Health:
    :PROPERTIES:
    :GoalCategory: Health
    :XP:       10
    :CUSTOM_ID: restart_jogging_with_W_
    :END:
So that I can [[maintain or improve my health]]
*** SOMEDAY develop habit of biking safely and comfortably in winter (>= -5C, < 20km wind, not much ice or snow) :Health:
    :PROPERTIES:
    :GoalCategory: Health
    :XP:       20
    :CUSTOM_ID: develop_habit_of_biking_safely_and_comfortably_in_winter______5C____20km_wind__not_much_ice_or_snow_
    :END:
So that I can [[maintain or improve my health]]
*** SOMEDAY graduate from introductory exercise ladder               :Health:
    :PROPERTIES:
    :GoalCategory: Health
    :XP:       50
    :CUSTOM_ID: graduate_from_introductory_exercise_ladder
    :END:

So that I can [[maintain or improve my health]]
** live an awesome life
   :PROPERTIES:
	 :CUSTOM_ID: live_an_awesome_life
   :END:
*** TODO do a 5-year experiment in self-directed living
    :PROPERTIES:
    :CUSTOM_ID: do_a_5_year_experiment_in_self_directed_living
    :LINK:     [[file:~/personal/business.org::*5-year experiment][5-year experiment]]
    :END:
so that I can [[live an awesome life]]

2012-2017

Questions to resolve:
- Would I prefer the structure of a regular career, or can I learn how to make the most of a more self-directed life?
- Do I understand my wants and needs enough to manage my finances with reasonable safety?

More information: http://sachachua.com/blog/experiment

What could "awesome" look like?
- Good handle on expenses, resisted lifestyle inflation
- Expenses covered by dividends/capital gains, with a reasonable buffer for the next correction (and so that I can buy the next time stocks go on sale)
- Be the kind of happy, loving, equanimous person I want to be
- Icing on the cake:
  - Tickled brain from learning lots of things
  - Good karma from helping lots of people
  - Scaling up (building resources)
- Confederates whom I know well and am in touch with

What kind of concrete actions or projects will move me towards that? What kinds of things do I want to explore?
- [X] E-book publishing: Easy to do once I have a clear idea of what I want to put together. I like pay-what-you-want.
- [X] Print publishing: Doable with LaTeX and CreateSpace.
- [ ] Useful, organized non-fiction
- [ ] A way for people to self-identify as tribe members (ex: e-book purchases, mailing list signups)
- [ ] Git-tip and other microtipping?
- See other projects in this file

*** cultivate equanimity
    :PROPERTIES:
    :CUSTOM_ID: cultivate_equanimity
    :END:
So that I can [[live an awesome life]]
**** WAITING deal with rough patches with grace                        :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       20
     :CUSTOM_ID: deal_with_rough_patches_with_grace
     :END:
 So that I can [[enjoy middle age]]
**** WAITING enjoy middle age                                          :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       100
     :CUSTOM_ID: enjoy_middle_age
     :END:
 So that I can [[enjoy old age][enjoy old age]]

**** WAITING respond with tranquility in the face of my mortality      :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       10
     :CUSTOM_ID: respond_with_tranquility_in_the_face_of_my_mortality
     :END:

 So that I can [[enjoy old age][enjoy old age]]

**** WAITING respond with tranquility in the face of sickness          :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       20
     :CUSTOM_ID: respond_with_tranquility_in_the_face_of_sickness
     :END:
 So that I can [[respond with tranquility in the face of the death of someone close to me]]

**** WAITING respond with tranquility in the face of the death of someone close to me :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       30
     :CUSTOM_ID: respond_with_tranquility_in_the_face_of_the_death_of_someone_close_to_me
     :END:

 So that I can [[respond with tranquility in the face of my mortality]]

**** WAITING enjoy old age                                             :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       100
     :CUSTOM_ID: enjoy_old_age
     :END:
 So that I can [[cultivate equanimity][cultivate equanimity]]

*** enrich our experiences
    :PROPERTIES:
    :CUSTOM_ID: enrich_our_experiences
    :END:
So that I can [[live an awesome life]]
**** DONE get Canadian passport                                        :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       5
     :CUSTOM_ID: get_Canadian_passport
     :END:
 So that I can [[enrich our experiences][enrich our experiences]]
**** SOMEDAY find a cat sitter we can trust                            :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       10
     :CUSTOM_ID: find_a_cat_sitter_we_can_trust
     :END:
 So that I can [[enrich our experiences][enrich our experiences]]

**** SOMEDAY set up distinctly interesting memories for four months straight :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       10
     :CUSTOM_ID: set_up_distinctly_interesting_memories_for_four_months_straight
     :END:
 So that I can [[enrich our experiences][enrich our experiences]]

**** SOMEDAY get driver's license?                                     :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       30
     :CUSTOM_ID: get_driver_s_license_
     :END:

 So that I can [[enrich our experiences][enrich our experiences]]
** tickle my brain
   :PROPERTIES:
   :CUSTOM_ID: tickle_my_brain
   :END:
so that I can [[get more value from my time]] and [[share useful stuff]]
*** develop my analysis skills
    :PROPERTIES:
    :CUSTOM_ID: develop_my_analysis_skills
    :END:
So that I can [[tickle my brain]]
**** SOMEDAY visualize ideas over a year                           :Analysis:
     :PROPERTIES:
     :GoalCategory: Analysis
     :XP:       5
     :CUSTOM_ID: visualize_ideas_over_a_year
     :END:
 So that I can [[develop my analysis skills][develop my analysis skills]]
**** SOMEDAY use animations to understand data                     :Analysis:
     :PROPERTIES:
     :GoalCategory: Analysis
     :XP:       20
     :CUSTOM_ID: use_animations_to_understand_data
     :END:

 So that I can [[develop my analysis skills][develop my analysis skills]]
**** SOMEDAY read the visual dictionary                            :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: read_the_visual_dictionary
     :END:

 So that I can [[develop my analysis skills][develop my analysis skills]]
** share useful stuff
   :PROPERTIES:
   :CUSTOM_ID: share_useful_stuff
   :END:
So that I can [[build good karma]] and [[get more value from my time]]
*** improve my sharing skills
    :PROPERTIES:
    :CUSTOM_ID: improve_my_sharing_skills
    :END:
So that I can [[share useful stuff]]
**** TODO harvest my backlog of notes
     :PROPERTIES:
     :CUSTOM_ID: harvest_my_backlog_of_notes
     :END:
So that I can [[improve my sharing skills]]
**** SOMEDAY develop ability to look at my writing with strangers' eyes :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       50
     :CUSTOM_ID: develop_ability_to_look_at_my_writing_with_strangers__eyes
     :END:
So that I can [[cut writing ruthlessly]]
**** SOMEDAY cut writing ruthlessly              :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       50
     :CUSTOM_ID: cut_writing_ruthlessly
     :END:
So that I can [[write a book instead of compiling it][write a book instead of compiling it]]
**** SOMEDAY write in bigger chunks  :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       50
     :CUSTOM_ID: write_in_bigger_chunks
     :END:
So that I can [[write a book instead of compiling it]]     
**** SOMEDAY write a book instead of compiling it                   :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       100
     :CUSTOM_ID: write_a_book_instead_of_compiling_it
     :END:
So that I can [[habitually write books (>= 3 books in 5 years)]]
**** SOMEDAY habitually write books (>= 3 books in 5 years)         :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       100
     :CUSTOM_ID: habitually_write_books_____3_books_in_5_years_
     :END:

So that I can [[improve my sharing skills][improve my sharing skills]]
**** SOMEDAY habitually write mini-guides (>= 4 mini-guides in 2 years) :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       50
     :CUSTOM_ID: habitually_write_mini_guides_____4_mini_guides_in_2_years_
     :END:
So that I can [[habitually write books (>= 3 books in 5 years)][improve my sharing skills]]
**** SOMEDAY make videos part of the way I regularly share (~12 original videos a year) :Speaking:
     :PROPERTIES:
     :GoalCategory: Speaking
     :XP:       10
     :CUSTOM_ID: make_videos_part_of_the_way_I_regularly_share___12_original_videos_a_year_
     :END:

 So that I can [[share useful stuff]]
*** improve my drawing skills
    :PROPERTIES:
    :CUSTOM_ID: improve_my_drawing_skills
    :END:
So that I can [[share useful stuff]]
**** TODO Make it to another year of daily journal drawing
     :PROPERTIES:
     :CUSTOM_ID: Make_it_to_another_year_of_daily_journal_drawing
     :END:
So that I can [[improve my drawing skills][improve my drawing skills]]
**** DONE find or make digital equivalent of index card drawing     :Drawing:
     :PROPERTIES:
     :GoalCategory: Drawing
     :XP:       10
     :CUSTOM_ID: find_or_make_digital_equivalent_of_index_card_drawing
     :END:
So that I can [[improve my drawing skills][improve my drawing skills]]
**** SOMEDAY draw recognizable people                               :Drawing:
     :PROPERTIES:
     :GoalCategory: Drawing
     :XP:       20
     :CUSTOM_ID: draw_recognizable_people
     :END:
So that I can [[improve my drawing skills][improve my drawing skills]]
*** improve my coding skills
    :PROPERTIES:
    :CUSTOM_ID: improve_my_coding_skills
    :END:
So that I can [[share useful stuff]]
**** TODO Build visualizations for baby data
     :PROPERTIES:
     :CUSTOM_ID: Build_visualizations_for_baby_data
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY set up smooth cross-referencing between blog posts and Flickr :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: set_up_smooth_cross_referencing_between_blog_posts_and_Flickr
     :END:

So that I can [[improve my coding skills]]
**** SOMEDAY set up autocomplete                                :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: set_up_autocomplete
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY set up flychecking                                 :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: set_up_flychecking
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY make test-driven development part of my normal workflow :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: make_test_driven_development_part_of_my_normal_workflow
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY get the hang of a CSS framework                    :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: get_the_hang_of_a_CSS_framework
     :END:
So that I can [[get the hang of a CSS preprocessor][get the hang of a CSS preprocessor]]
**** SOMEDAY get the hang of a CSS preprocessor                 :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: get_the_hang_of_a_CSS_preprocessor
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY get the hang of a Javascript preprocessor          :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: get_the_hang_of_a_Javascript_preprocessor
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY help other people program more effectively         :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       5
     :CUSTOM_ID: help_other_people_program_more_effectively
     :END:

So that I can [[improve my coding skills]]
**** SOMEDAY close an open source issue                         :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       10
     :CUSTOM_ID: close_an_open_source_issue
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY contribute to open source documentation            :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       10
     :CUSTOM_ID: contribute_to_open_source_documentation
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY get feedback from coaches or open source community :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       20
     :CUSTOM_ID: get_feedback_from_coaches_or_open_source_community
     :END:
So that I can [[improve my coding skills]]
**** SOMEDAY contribute to Emacs C                              :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       20
     :CUSTOM_ID: contribute_to_Emacs_C
     :END:

So that I can [[improve my coding skills]]
**** SOMEDAY contribute automated tests to Emacs packages       :Programming:
     :PROPERTIES:
     :GoalCategory: Programming
     :XP:       10
     :CUSTOM_ID: contribute_automated_tests_to_Emacs_packages
     :END:
So that I can [[improve my coding skills]]
*** SOMEDAY publish resources
    :PROPERTIES:
    :CUSTOM_ID: publish_resources
    :END:
So that I can [[share useful stuff]]
**** SOMEDAY [#C] publish 12 free/PWYC resources                    :project:
     :PROPERTIES:
     :CUSTOM_ID: publish_12_free_PWYC_resources
     :END:
 So that I can [[publish resources][publish resources]]
 - [X] Sketchnoting resources
 - [X] No Excuses Guide to Blogging
 - [X] Sketchnotes 2012
 - [X] Sketchnotes 2013
 - [X] How to learn Emacs Lisp by customizing Emacs: http://sach.ac/baby-steps-emacs-lisp - 2014-05-07
 - [ ] Baby steps guide to managing your tasks with Org: http://sach.ac/baby-steps-org-todo
 - [ ] Intermediate guide to Emacs
 - 10-week Emacs Basics course (or 12...)
     1. Mouse, copy, paste
     2. M-x
     3. Customize

**** SOMEDAY write book about 5-year experiment to capture memories and help other people curious about it :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       30
     :CUSTOM_ID: write_book_about_5_year_experiment_to_capture_memories_and_help_other_people_curious_about_it
     :END:
 So that I can [[publish resources][publish resources]]

**** SOMEDAY write a set of three or four 4-part courses            :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       50
     :CUSTOM_ID: write_a_set_of_three_or_four_4_part_courses
     :END:
 So that I can [[publish resources][publish resources]]

**** SOMEDAY create four major projects in 2015                        :Life:
     :PROPERTIES:
     :GoalCategory: Life
     :XP:       10
     :CUSTOM_ID: create_four_major_projects_in_2015
     :END:

 So that I can [[publish resources][publish resources]]
**** SOMEDAY write mini-book on building Emacs habits               :Writing:
     :PROPERTIES:
     :GoalCategory: Writing
     :XP:       20
     :CUSTOM_ID: write_mini_book_on_building_Emacs_habits
     :END:

 So that I can [[create four major projects in 2015]] and [[help the Emacs community grow]]
**** STARTED [#A] make Sketchnotes 2014                             :Drawing:
     :PROPERTIES:
     :GoalCategory: Drawing
     :XP:       5
     :CUSTOM_ID: make_Sketchnotes_2014
     :Effort:   4:00
     :QUANTIFIED: Packaging
     :END:
     :LOGBOOK:
     CLOCK: [2015-02-03 Tue 19:13]--[2015-02-03 Tue 19:13] =>  0:00
     :END:
 So that I can [[create four major projects in 2015]]

Hmm. They used to be around here somewhere. I could've sworn I'd already started organizing those... Where did I put them? Ah, [[file:g:/code/2014-sketchnotes]]. 
And then a quick find -name \*.png with a regex

(replace-regexp "^\\./\\([^/]+\\)/\\(.*\\).png" "\\\\sketch{\\1}{\\2}")

** build good karma
   :PROPERTIES:
   :CUSTOM_ID: build_good_karma
   :END:
So that I can [[learn from people]]

Is this a true goal, or it mainly on the way to something else? Are
there projects that support this instead of the other stuff?

** cook yummy food
   :PROPERTIES:
   :CUSTOM_ID: cook_yummy_food
   :END:
So that I can [[live an awesome life]]
*** practise types of recipes
    :PROPERTIES:
    :CUSTOM_ID: practise_types_of_recipes
    :END:
So that I can [[cook yummy food]]
**** SOMEDAY make paella                                            :Cooking:
     :PROPERTIES:
     :GoalCategory: Cooking
     :XP:       5
     :CUSTOM_ID: make_paella
     :END:
 So that I can [[practise types of recipes][practise types of recipes]]
**** SOMEDAY make special types of bread, including sourdough       :Cooking:
     :PROPERTIES:
     :GoalCategory: Cooking
     :XP:       5
     :CUSTOM_ID: make_special_types_of_bread__including_sourdough
     :END:
 So that I can [[practise types of recipes][practise types of recipes]]
**** DONE make udon noodles from scratch                            :Cooking:
     :PROPERTIES:
     :GoalCategory: Cooking
     :XP:       5
     :CUSTOM_ID: make_udon_noodles_from_scratch
     :END:
     :LOGBOOK:
     - State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:43] \\
       Next goal
     :END:
 So that I can [[practise types of recipes][practise types of recipes]]
**** SOMEDAY competently make pizza                                 :Cooking:
     :PROPERTIES:
     :GoalCategory: Cooking
     :XP:       10
     :CUSTOM_ID: competently_make_pizza
     :END:
 So that I can [[practise types of recipes][practise types of recipes]]
*** SOMEDAY make braising and other fancy cooking terms part of my vocabulary :Cooking:
    :PROPERTIES:
    :GoalCategory: Cooking
    :XP:       10
    :CUSTOM_ID: make_braising_and_other_fancy_cooking_terms_part_of_my_vocabulary
    :END:
So that I can [[cook yummy food]]
*** SOMEDAY adjust the feel of things by using herb combinations    :Cooking:
    :PROPERTIES:
    :GoalCategory: Cooking
    :XP:       10
    :CUSTOM_ID: adjust_the_feel_of_things_by_using_herb_combinations
    :END:
So that I can [[cook yummy food]]
*** DONE develop a habit of cooking with lots of vegetables (CSA-like volume) :Cooking:
    :PROPERTIES:
    :GoalCategory: Cooking
    :XP:       10
    :CUSTOM_ID: develop_a_habit_of_cooking_with_lots_of_vegetables__CSA_like_volume_
    :END:
    :LOGBOOK:
    - State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:43] \\
      Active
    :END:
So that I can [[cook yummy food]]
*** SOMEDAY create monthly cycles for favourite recipes             :Cooking:
    :PROPERTIES:
    :GoalCategory: Cooking
    :XP:       10
    :CUSTOM_ID: create_monthly_cycles_for_favourite_recipes
    :END:
So that I can [[cook yummy food]]
*** SOMEDAY cut standard sizes                                      :Cooking:
    :PROPERTIES:
    :GoalCategory: Cooking
    :XP:       20
    :CUSTOM_ID: cut_standard_sizes
    :END:
So that I can [[cook yummy food]]
** learn from people
   :PROPERTIES:
   :CUSTOM_ID: learn_from_people
   :END:
So that I can [[tickle my brain]] and [[share useful stuff]]
*** TODO Raise A-
    :PROPERTIES:
    :CUSTOM_ID: Raise_A_
    :END:
So that I can [[learn from people]]
*** TODO Choose parenting activities to consistently attend
    :PROPERTIES:
    :CUSTOM_ID: Choose_parenting_activities_to_consistently_attend
    :END:
So that I can [[learn from people]]
*** SOMEDAY learn Japanese
    :PROPERTIES:
    :LINK:     [[file:~/personal/organizer.org::*Learn Japanese][Learn Japanese]]
    :CUSTOM_ID: learn_Japanese
    :END:
So that I can [[learn from people]]
**** DONE work through the Japanese language books we have at home :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: work_through_the_Japanese_language_books_we_have_at_home
     :END:
So that I can [[learn Japanese]]
**** SOMEDAY Japanese: Listen to regular shows with >=80% comprehension :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: Japanese__Listen_to_regular_shows_with___80__comprehension
     :END:
So that I can [[learn Japanese]]
**** SOMEDAY Japanese: Listen to tech talks with >=80% comprehension :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: Japanese__Listen_to_tech_talks_with___80__comprehension
     :END:
So that I can [[learn Japanese]]
**** SOMEDAY Japanese: Listen to cooking shows with >=80% comprehension :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: Japanese__Listen_to_cooking_shows_with___80__comprehension
     :END:
So that I can [[learn Japanese]]
**** SOMEDAY Japanese: Read blog posts and tweets about tech with >=80% comprehension :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: Japanese__Read_blog_posts_and_tweets_about_tech_with___80__comprehension
     :END:
So that I can [[learn Japanese]]
**** SOMEDAY Japanese: Read cooking instructions on packages with >=80% comprehension :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: Japanese__Read_cooking_instructions_on_packages_with___80__comprehension
     :END:
So that I can [[learn Japanese]]
**** SOMEDAY Japanese: Complete Anki decks for JP-2000             :Learning:
     :PROPERTIES:
     :GoalCategory: Learning
     :XP:       10
     :CUSTOM_ID: Japanese__Complete_Anki_decks_for_JP_2000
     :END:
     :LOGBOOK:
     - State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:41] \\
       Active
     :END:

So that I can [[learn Japanese]]
*** DONE host another 10 episodes of Emacs Chats or hangouts
    :PROPERTIES:
    :CUSTOM_ID: host_another_10_episodes_of_Emacs_Chats_or_hangouts
    :GoalCategory: Connecting
    :XP: 5
    :CUSTOM_ID: complete_another_10_episodes_of_Emacs_Chats
    :END:
		:LOGBOOK:
		- State "TODO"       from "DONE"       [2014-11-01 Sat 16:58]
		:END:

So that I can [[learn from people]] and [[help the Emacs community grow]]

http://sachachua.com/blog/tag/emacs-hangout

1. [X] Emacs Chat: technomancy
2. [X] Emacs Chat: Xah Lee
3. [X] Emacs Chat: Bozhidar Batsov
4. Bodil Stokke?
5. Steve Purcell? - Jan
6. Stefan Monnier?
7. John Kitchin?
8. Reach out to the other bloggers on Planet Emacsen


*** CANCELLED Set up an ongoing mentoring/coaching relationship with an Emacs coach
    :PROPERTIES:
    :CUSTOM_ID: Set_up_an_ongoing_mentoring_coaching_relationship_with_an_Emacs_coach
    :END:
So that I can [[get more value from my time]]

https://www.codementor.io/sanityinc: RoR, jQuery, TDD, Emacs, Javascript
https://www.codementor.io/skeeto
http://emacs-doctor.com

Possible concrete goals:
- Follow best practices in setting up my web development environment (Rails, Javascript, NodeJS, Angular); learn how to think syntactically
- Discover what else I should be doing with Org Mode
- Set up a solid external data and backup plan
- Learn more about what I don't know I don't know (Hard!)
- Get into Emacs development

*** WAITING do right by our cats                                 :Connecting:
:PROPERTIES:
:GoalCategory: Connecting
:XP: 20
:CUSTOM_ID: do_right_by_our_cats
:END:
So that I can [[learn from people]]
*** DONE complete the rest of the F projects                     :Connecting:
:PROPERTIES:
:GoalCategory: Connecting
:XP: 50
:CUSTOM_ID: complete_the_rest_of_the_F_projects
:END:
So that I can [[learn from people]]
*** WAITING do right by W-, J-, and A-                           :Connecting:
:PROPERTIES:
:GoalCategory: Connecting
:XP: 100
:CUSTOM_ID: do_right_by_W___J___and_A_
:END:

So that I can [[learn from people]]
*** SOMEDAY develop a 4+-month habit of frequent messages to parents :Connecting:
:PROPERTIES:
:GoalCategory: Connecting
:XP: 10
:CUSTOM_ID: develop_a_4__month_habit_of_frequent_messages_to_parents
:END:
:LOGBOOK:
- State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:43] \\
  Active
:END:

So that I can [[learn from people]]
*** SOMEDAY post notes and life changes from three months of working with a coach :Learning:
:PROPERTIES:
:GoalCategory: Learning
:XP: 30
:CUSTOM_ID: post_notes_and_life_changes_from_three_months_of_working_with_a_coach
:END:
So that I can [[learn from people]]
*** SOMEDAY have a regular plan for meeting friends at least one weekend every month :Connecting:
    :PROPERTIES:
    :GoalCategory: Connecting
    :XP:       10
    :CUSTOM_ID: have_a_regular_plan_for_meeting_friends_at_least_one_weekend_every_month
    :END:

So that I can [[learn from people]]
** make better decisions
   :PROPERTIES:
   :CUSTOM_ID: make_better_decisions
   :END:
so that I can [[live an awesome life]]
*** WAITING sell stocks in a non-registered account and properly account for them :Finance:
:PROPERTIES:
:GoalCategory: Finance
:XP: 10
:CUSTOM_ID: sell_stocks_in_a_non_registered_account_and_properly_account_for_them
:END:

So that I can [[make better decisions]]

*** TODO re-examine spending and carve out more for what matters    :Finance:
:PROPERTIES:
:GoalCategory: Finance
:XP: 10
:CUSTOM_ID: re_examine_spending_and_carve_out_more_for_what_matters
:END:
:LOGBOOK:
- State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:44]
:END:

So that I can [[make better decisions]]

*** DONE weather a bear market with lots of investments             :Finance:
:PROPERTIES:
:GoalCategory: Finance
:XP: 20
:CUSTOM_ID: weather_a_bear_market_with_lots_of_investments
:END:

So that I can [[make better decisions]]

I think 2015 counted! I managed to stay invested without freaking out too much. =)

*** WAITING move to target allocation                               :Finance:
:PROPERTIES:
:GoalCategory: Finance
:XP: 20
:CUSTOM_ID: move_to_target_allocation
:END:
So that I can [[make better decisions]]
*** WAITING reach 2% goal                                           :Finance:
:PROPERTIES:
:GoalCategory: Finance
:XP: 30
:CUSTOM_ID: reach_2__goal
:END:

So that I can [[make better decisions]]
*** WAITING reach 2.5% goal                                         :Finance:
:PROPERTIES:
:GoalCategory: Finance
:XP: 10
:CUSTOM_ID: reach_2_5__goal
:END:

So that I can [[reach 2% goal]]

*** DONE deal with a famine year without panicking                 :Business:
    :PROPERTIES:
    :GoalCategory: Business
    :XP:       50
    :CUSTOM_ID: deal_with_a_famine_year_without_panicking
    :END:
 So that I can [[make better decisions]]
*** WAITING resolve estate amicably or walk away from it    :Connecting:
    :PROPERTIES:
    :GoalCategory: Connecting
    :XP:       20
    :CUSTOM_ID: resolve_estate_amicably_or_walk_away_from_it
    :END:
In order to [[make better decisions]]
** get more value from my time
   :PROPERTIES:
   :CUSTOM_ID: get_more_value_from_my_time
   :END:
so that I can [[live an awesome life]]
*** TODO Practise kaizen on our new routines
    :PROPERTIES:
    :CUSTOM_ID: Practise_kaizen_on_our_new_routines
    :END:
So that I can [[get more value from my time]] and [[enrich our experiences][enrich our experiences]]

Current gaps/opportunities:
- Taking care of A-'s basic needs
- Choosing activities to consistently attend
- Making time to think, draw, and share

*** SOMEDAY develop structures for journaling                       :Writing:
:PROPERTIES:
:GoalCategory: Writing
:XP: 10
:CUSTOM_ID: develop_structures_for_journaling
:END:
So that I can [[get more value from my time]]
*** SOMEDAY create syntopicon/bibliography                         :Learning:
:PROPERTIES:
:GoalCategory: Learning
:XP: 10
:CUSTOM_ID: create_syntopicon_bibliography
:END:
:LOGBOOK:
- State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:44]
:END:

So that I can [[get more value from my time]]
*** DONE keep a year of journals (short entries)                    :Writing:
:PROPERTIES:
:GoalCategory: Writing
:XP: 10
:CUSTOM_ID: keep_a_year_of_private_journals__short_entries_
:END:

So that I can [[get more value from my time]]
** SOMEDAY delegate more effectively
   :PROPERTIES:
   :CUSTOM_ID: delegate_more_effectively
   :END:
So that I can [[get more value from my time]]
*** SOMEDAY [#c] delegate 2,000 hours or $20,000 of meaningful, useful work :delegation:project:
   :PROPERTIES:
   :Goal:     Delegate
	 :CUSTOM_ID: delegate_2_000_hours_or__20_000_of_meaningful__useful_work
   :END:
So that I can [[delegate more effectively]] and [[build good karma]]

So far:

#+begin_src emacs-lisp
  (let ((dollars 8229.45)
        (hours 486))
    (format "%d dollars - %d%%; %d hours - %d%%"
            dollars (* (/ dollars 20000.0) 100.0)
            hours (* (/ hours 2000.0) 100.0)))
#+end_src

#+RESULTS:
: 8229 dollars - 41%; 486 hours - 24%

The work should:
- move me towards my primary goals
- help assistants improve their skills and justify better rates in the marketplace

Need to compensate for 2,166 hours as of 2014-05-16
*** SOMEDAY add 50 items to my process library 									 :delegation:
    :PROPERTIES:
    :CUSTOM_ID: add_50_items_to_my_process_library
		:LINK:     [[file:~/personal/business.org::*Add 50 items to my process library][Add 50 items to my process library]]
    :END:
So that I can [[delegate more effectively]] and [[share useful stuff]]

[[https://drive.google.com/a/sachachua.com/#folders/0B8LpkeSVIjRYVHZCQzVCYTJ5X3M][Process library]] - for my virtual assistants and for other people who are interested in delegation

;;#+CALL: list-files-with-target(directory="~/Google Drive/Delegation - Sacha Chua/Processes", pattern="How to", target=50) :results value org

#+RESULTS:
#+BEGIN_SRC org
35 items - 70%
1. How to add blogs to Feedly
2. How to add resources to the resources page and sidebar widget
3. How to add tags to Flickr sketches
4. How to animate sketches with Autodesk Sketchbook Pro and Camtasia Studio
5. How to convert a Vimeo or YouTube video to MP3 and save it for offline listening
6. How to create a Frugal FIRE event on Google+
7. How to create a Google+ Event banner
8. How to create a Helpers Help Out event on Google+
9. How to download invoices from InvoiceTrack
10. How to draft Q&A posts based on a transcript
11. How to draft an Emacs Basics blog post
12. How to draw and implement highlighted hand-drawn icons using CSS sprites
13. How to extract the MP3 from YouTube or an MP4
14. How to file a healthcare claim for massage
15. How to identify Q&A from a transcript
16. How to import my theme into your local development environment and get ready for work
17. How to look up additional information for people
18. How to post show notes
19. How to prepare for and host a Google Hangout on Air
20. How to process audio in Audacity
21. How to process scheduling requests
22. How to request books from the library
23. How to research related posts
24. How to set up a public conversation over Google Hangouts On Air
25. How to set up a public conversation
26. How to set up a redirection URL
27. How to summarize blog posts as tweets
28. How to transcribe audio
29. How to update Flickr with blog post URLs
30. How to update QuantifiedSelf.ca blog posts with video embeds
31. How to update a blog post with an MP3
32. How to update a book through CreateSpace
33. How to update the MP3 metadata
34. How to upload an MP3 to archive.org
35. How to write a blog post
#+END_SRC

** help the Emacs community grow
   :PROPERTIES:
   :CUSTOM_ID: help_the_Emacs_community_grow
   :END:
so that I can [[tickle my brain]] and [[share useful stuff]]
*** TODO Make it to 52 issues of Emacs News  :emacs:
    :PROPERTIES:
    :CUSTOM_ID: Make_it_to_52_issues_of_Emacs_News
    :END:
so that I can [[help the Emacs community grow]]

http://sachachua.com/blog/category/emacs-news/
*** SOMEDAY [#c] Develop emacslife.com into beginner/enthusiast resources for Emacs :emacs:project:
		:PROPERTIES:
		:CUSTOM_ID: Develop_emacslife_com_into_beginner_enthusiast_resources_for_Emacs
		:END:
so that I can [[help the Emacs community grow]]

What do I want to learn from working on EmacsLife?

- Organizing questions logically, and adding links between sections
- Writing based on an outline
- Revising with feedback
- Developing a smooth workflow for exporting my blog posts
  - Update monthly, perhaps?
- Herding cats: Delegating to other geeks
- Eventually: structuring courses, creating resources

Sketching the future:

Because of the time I've invested in working on resources for the
Emacs community, I have the confidence that I can logically structure
my thoughts and write technical learning-oriented books. I have a
community of people happy to proof-read/beta. I have a lot of
experience in creating rich media resources as well.

I have a smooth workflow for identifying topics, outlining them,
organizing the topics, researching information, filling in the gaps
(whether I'm writing things myself or paying other people to do so),
pulling everything together, and publishing and sharing the results.
This may even be self-financing. I create a useful resource of at
least 10,000 words at least every 12 weeks.

This gives me great ways to:
- Learn more about what I'm curious about
- Organize my thoughts and identify gaps
- Communicate clearly, approachably, and engagingly
- Share in scalable ways

*** SOMEDAY [#c] create a 10-week Emacs Basics course :emacs:specific:project:someday:
    :PROPERTIES:
    :CUSTOM_ID: create_a_10_week_Emacs_Basics_course
		:LINK:     [[file:~/personal/business.org::*Emacs Basics][Emacs Basics]]
    :END:
So that I can [[help the Emacs community grow]]

http://sachachua.com/blog/tag/emacs-basics

1. [X] Use the mouse
2. [X] [[http://sachachua.com/blog/?p=27062&shareadraft=baba27062_532732552c1f8][Call commands by name with M-x]]
3. [X] Customize and configure
4. [ ] Learn keyboard shortcuts
5. [ ] Learn Emacs Lisp
6. [ ] Customize keyboard shortcuts
7. [ ] Save time with keyboard macros
8. [ ] Be inspired

*** DONE set up regular Emacs hangouts
    :PROPERTIES:
    :GoalCategory: Connecting
    :XP:       20
    :CUSTOM_ID: set_up_regular_Emacs_hangouts
    :END:
    :LOGBOOK:
    - State "TODO"       from "SOMEDAY"    [2015-01-26 Mon 17:44]
    :END:
so that I can [[help the Emacs community grow]]

Every two weeks? Every month? Need a co-host.

*** SOMEDAY draw 10 visual guides for learning Emacs
    :PROPERTIES:
    :CUSTOM_ID: draw_10_visual_guides_for_learning_Emacs
    :END:
So that I can [[help the Emacs community grow]]
- [X] Beginner's guide
- [X] Keyboard shortcuts
- [X] Org mode
- [X] Dired
- [X] Managing your tasks

* Old graph
  :PROPERTIES:
  :CUSTOM_ID: Old_graph
  :END:
#+begin_src dot :file goals.png :cmdline -Kdot -Tpng :results silent
  digraph G {
    ratio=expand
    node [shape=box]
    "Explore\nEmacs" -> "Learn tools" -> "Tickle my brain" -> "Write blog posts" -> "Share useful stuff" -> "Build good karma" -> "Learn from others"
    "Automate" -> "Learn tools"
    "Explore AutoHotkey" -> "Automate"
    "Read iMacros capabilities" -> "Automate"
    "Set up Selenium for Java" -> "Automate"
    "Share useful stuff" -> "Make technical topics friendlier" -> "Help the Emacs community be even awesomer" -> "Tickle my brain"
    "Make Emacs beginner resources" -> "Share useful stuff"
    "Read" -> "Tickle my brain"
    "Draw" -> "Share useful stuff"
    "Draw" -> "Think more clearly"
    "Write blog posts" -> "Think more clearly"
    "Delegate" -> "Share opportunities"
    "Delegate" -> "Expand capabilities"
    "Tickle my brain" -> "Expand capabilities"
    "Do consulting" -> "Tickle my brain"
    "Package" -> "Share useful stuff"
    "Respond" -> "Learn from others"
    "Respond" -> "Build good karma"
    "Build good karma" -> "Have a good foundation"
    "Get better at Javascript\n(NodeJS, JQuery)" -> "Learn tools"
    "Get better at\nRuby, Rails" -> "Learn tools"
    "Delegate" -> "Build process library" -> "Share useful stuff"
    "Delegate" -> "Learn from others"
    "Learn from others" -> "Make good decisions" -> "Enjoy life"
    "Think more clearly" -> "Make good decisions" -> "Shift my habits"
    "Understand my life" -> "Think more clearly"
    "Ask, experiment, measure" -> "Make good decisions"
    "Sketchnote presentations" -> "Share useful stuff"
    "Sketchnote presentations" -> "Keep good ideas from disappearing"
  }
#+end_src

#+ATTR_HTML: :width 640
[[http://sachachua.com/sharing/goals.png][file:goals.png]]

* Code
  :PROPERTIES:
  :CUSTOM_ID: Code
  :END:

#+name: list-files-with-target
#+begin_src emacs-lisp :var directory="~/Google Drive/Delegation/Processes" :var pattern="How to" :var target=50 :var strip="\\.gdoc$"
  (let ((count 0)
        (files
         (directory-files directory nil pattern)))
    (format "%d items - %d%%\n%s"
            (length files)
            (/ (* 100.0 (length files)) target)
            (mapconcat
             (lambda (x)
               (setq count (1+ count))
               (format "%d. %s" count (replace-regexp-in-string strip "" x)))
             files
             "\n")))
#+end_src

#+name: graph-from-tables
#+BEGIN_SRC emacs-lisp :var fill-column=20 :var tag="goal" :var id="G"
  (defvar include-someday nil)
  (defun sacha/fill-string (string new-fill-column &optional replace-char)
    "Wrap STRING to NEW-FILL-COLUMN. Change newlines to REPLACE-CHAR."
    (with-temp-buffer
      (insert string)
      (let ((fill-column new-fill-column))
        (fill-region (point-min) (point-max))
        (if replace-char
            (progn
              (goto-char (point-min))
              (while (re-search-forward "\n" nil t)
                (replace-match replace-char t t))))
        (buffer-string))))

  (defun sacha/org-map-goals (tag)
    "Return an alist, based on the TAG tree and \"so that I can\" link structure.
    Structure: ((nodes . ((components) ...)) (edges . ((a . b) ...)))"
    (let (nodes edges)
      ;; Go through the entries
      (org-map-entries
       (lambda ()
         (let ((heading (org-heading-components)))
           (when (or (not (elt heading 2)) (member (elt heading 2) (if include-someday '("TODO" "WAITING" "SOMEDAY") '("TODO"))))
             (save-excursion
               (save-restriction
                 ;; Ignore subtrees in the body
                 (org-narrow-to-subtree)
                 (save-excursion
                   (org-set-property "CUSTOM_ID" (replace-regexp-in-string "[^A-Za-z0-9]" "_" (elt heading 4))))
                 (end-of-line)
                 (narrow-to-region
                  (point-min)
                  (if (re-search-forward
                       (concat "[\r\n]\\(" org-outline-regexp "\\)") nil t)
                      (match-beginning 1)
                    (point-max)))
                 (goto-char (point-min))
                 (when (> (car heading) 1)
                   (setq nodes (cons heading nodes)))
                 (when (re-search-forward "so that I can" nil t)
                   (while (re-search-forward org-bracket-link-regexp (line-end-position) t)
                     (setq edges (cons (cons (elt heading 4) (match-string-no-properties 1)) edges)))))))))
       tag)
      (list (cons 'nodes nodes) (cons 'edges edges))))

  (defvar sacha/elgraphviz-attributes '((:color . "color")
                                        (:fontname . "fontname")
                                        (:pad . "pad")
                                        (:shape . "shape")
                                        (:style . "style")
                                        (:tooltip . "tooltip")
                                        (:target . "target")
                                        (:url . "URL")
                                        (:width . "width"))
    "List of attributes")


  (defun sacha/elgraphviz-process-property-list (prop-list)
    "Convert PROP-LIST to an alphabetically sorted, comma-separated attribute list."
    (mapconcat 'identity
               (delq nil
                     (mapcar (lambda (x)
                               (if (plist-get prop-list (car x))
                                   (format "%s=\"%s\"" (cdr x)
                                           (sacha/elgraphviz-quote-string (plist-get prop-list (car x))))))
                             sacha/elgraphviz-attributes))
               ","))

  (ert-deftest sacha/elgraphviz-process-property-list ()
    (should (string= (sacha/elgraphviz-process-property-list '(:width 1)) "width=\"1\"")))

  (defun sacha/elgraphviz-quote-string (string) "Quote \" in strings." (replace-regexp-in-string "\"" "\\\"" (format "%s" string)))

  (defun sacha/elgraphviz-node (name &rest args)
    "Return the node definition for NAME with ARGS as attributes."
    (if args
        (format "\"%s\" [%s]" (sacha/elgraphviz-quote-string name) (sacha/elgraphviz-process-property-list args))
      (format "\"%s\"" (sacha/elgraphviz-quote-string name))))
  (defun sacha/elgraphviz-directed-edge (a b &rest args)
    "Return the node definition for NAME with ARGS as attributes."
    (format "\"%s\" -> \"%s\" [%s]"
            (sacha/elgraphviz-quote-string a)
            (sacha/elgraphviz-quote-string b)
            (sacha/elgraphviz-process-property-list args)))

  (ert-deftest sacha/elgraphviz-node ()
    (should (string= (sacha/elgraphviz-node "Test" :style "filled" :url "http://example.com" :tooltip "test")
                     "\"Test\" [style=\"filled\",tooltip=\"test\",URL=\"http://example.com\"]")))

  (defun sacha/elgraphviz-default-node (&rest attributes)
    (format "node [%s]" (sacha/elgraphviz-process-property-list attributes)))

  (ert-deftest sacha/elgraphviz-default-node ()
    (should (string= (sacha/elgraphviz-default-node :color "#cccccc" :width 100)
                     "node [color=\"#cccccc\",width=\"100\"]")))

  (defun sacha/elgraphviz-default-edge (&rest attributes)
    (format "edge [%s]" (sacha/elgraphviz-process-property-list attributes)))
  (defun sacha/elgraphviz-attribute (name val)
    (format "%s=\"%s\"" name (sacha/elgraphviz-quote-string val)))

  (defun sacha/elgraphviz-digraph (id &rest body)
    (concat "digraph " id " {\n"
            (mapconcat 'identity body "\n")
            "}"))

  (defun sacha/org-map-to-graphviz (map fill-column id)
    "Convert MAP to a graphviz representation. Wrap titles at FILL-COLUMN."
    (sacha/elgraphviz-digraph id
                              (sacha/elgraphviz-attribute "id" id) 
                              (sacha/elgraphviz-default-node :shape "box" :fontname "Open Sans" :pad 1) 
                              (sacha/elgraphviz-default-edge :color "#CCCCCC") 
                              (mapconcat
                               (lambda (x)
                                 (sacha/elgraphviz-directed-edge 
                                  (sacha/fill-string (car x) fill-column "\\n")
                                  (sacha/fill-string (cdr x) fill-column "\\n")))
                               (cdr (assoc 'edges map)) "\n")
                              (mapconcat
                               (lambda (x)
                                 (sacha/elgraphviz-node
                                  (sacha/fill-string (elt x 4) fill-column "\\n")
                                  :style (if (null (elt x 2)) "filled")
                                  :url (concat "index.html#" (replace-regexp-in-string "[^A-Za-z0-9]" "_" (elt x 4)))
                                  :target "_parent"
                                  :tooltip (elt x 4)))
                               (cdr (assoc 'nodes map)) "\n")))
  (org-babel-execute:dot (sacha/org-map-to-graphviz (sacha/org-map-goals tag) fill-column id) (cons (cons :file (assoc-default :outputfile params)) params))
#+END_SRC

#+begin_html
<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<a class="back-to-top" href="#top">Back to top</a>

<script type="text/javascript">
    var offset = 220;
    var duration = 500;
    jQuery(window).scroll(function() {
        if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
        } else {
            jQuery('.back-to-top').fadeOut(duration);
        }
    });
</script>
#+end_html

#+begin_html
</div></div><!-- columns, row-->
#+end_html
